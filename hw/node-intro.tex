\section{Overview of Hardware Options:\\Platforms and Cores}

%There had been an extended research and early decision was
%to use \emph{Atmel} \RFA\, however this has changed for the
%reason described in the previous chapter.

 This chapter discusses various alternatives, which had been
 considered for the target hardware platform. To narrow this
 selection, an MCU with an integrated radio was of primary
 interest. Currently, the semiconductor market presents a
 wide range of single-chip MCUs with \WPAN\ interfaces. There
 is a dedicated section on the WMI website for more information
 and references to product pages \cite{wmi:wiki:chips1,
 wmi:wiki:chips2}.

\subsubsection{32-bit ARM Cortex}

 Two different integrated \WPAN\ microcontrollers based on 
 \emph{ARM} core architecture were found. Most notable
 chips are \emph{Freescale \texttt{MC1322x}}, which are
 classified as a \emph{platform-in-package}. \emph{Freescale}
 combined all transceiver components in one chip, providing
 a very simple design solution. Only one external RF component
 that \MCX\ requires is the antenna. Alternative \emph{Cortex-M3}
 product is \emph{Ember \texttt{EM300}-series}, these don't
 achieve the same scale of integration on the transceiver side
 and still requires an external RF circuit.

 The \Chip{MC1322x} gives a great benefit to a designer, as it
 is known that layout of a radio circuit for frequencies in
 gigahertz range is particularly challenging task and, indeed,
 this is a specialist area of board design.

\subsubsection{Other Microcontrollers}

 \emph{ST Microelectronics} and \emph{Ember} offer 16-bit single-chip
 \WPAN\ microcontrollers based on \emph{XAP2} processor architecture.

 \emph{NEC} (now \emph{Renesas}) has a few 16-bit RF chips available,
 but the selection of development tools and libraries for that platform
 is rather poor.

 \emph{Freescale} has a another set of 8-bit \WPAN\ microcontrollers.
 \Chip{MC13213} family currently consists of just three devices with
 16k/32k/60 kB of flash memory and \emph{Motorola 68HC08} core.

 A UK company \emph{Jennic} (now acquired by \emph{NXP}) produces a
 range of wireless micorocontrollers and sub-assembly modules. These
 are utilising \emph{OpenRISC} 32-bit processor core combined with a
 proprietary transceiver. The \emph{OpenRISC} core had been developed
 as a community effort of \emph{OpenCores.org}, however \emph{Jennic}
 software source code is not available and a rather low quality binary
 library distribution is offered. This software had been analysed, but
 the results are irrelevant to this report.

 \emph{Texas Instruments} currently offer a \Chip{CC2530} based on
 \emph{8051} MCU with 2.4 GHz radio, which is most like a product for
 designers who prefer to use \emph{8051}. \emph{Telit Communications}
 sells sub-assembly RF and USB dongles featuring the \Chip{CC2530} chip.
 Another interesting product from \emph{Texas} is \Chip{CC8520} which
 allows low-power compressed audio transmission in the ISM band, however
 as it was mention earlier, transmission of audio is not of interest
 to this project.

 At the time of writing of this report the product range of \emph{TI}
 wireless ICs has expanded. It now has \Chip{CC2511} \emph{SoC}
 that is based on \Chip{CC2530} with a USB interface added and
 yet another integrated family - \Chip{CC430}. These chips are using
 \emph{TI's} \Chip{MSP430} 16-bit core and a sub-gigahertz \Chip{CC1101}
 transceivers.

\subsubsection{8-bit Atmel AVR ATmega128RFA1}

 The \Chip{ATmega128RFA1} \cite{atmel:atmega128rfa1:datasheet} chip
 has 16MHz clock and contains 128kB of flash, 4kB of EEPROM and 16kB
 of SRAM memories, 32 general purpose registers, 35 GPIO lines, 8
 channels of 10-bit ADC and 6 configurable timers, counters and PWM
 as well as USART, SPI and JTAG interfaces. \Chip{ATmega1281} core
 of the \Chip{ATmega128RFA1} is a generic 8-bit microcontroller.
 Apart from integrated \Chip{AT86RFA231} \cite{atmel:at86rf231:datasheet}
 low-power 2.4GHz \emph{P802.15.4} transceiver, there are no other
 distinct features, it is a stock-standard AVR chip, though the first
 Wireless MCU from \emph{Atmel}.

 A choice of software stacks is provided \cite{atmel:avr2070,
 atmel:avr2025, atmel:avr2102, atmel:zbpro}, although the use
 of these packages is a subject to licensing and architectural
 issues \cite{wmi:wiki:atmelsw}.

\subsection{Boards and Peripherals}

 \emph{Note: Product URLs are provided on dedicated page of the WMI
 website \cite{wmi:wiki:devhw}.}
 \newline

 For a radio controller board (RCB) one of the major factors is the
 type of antenna. Type of sensor connectors and serial interface,
 as well as presence of JTAG header are also taken into consideration.

\subsubsection{\texttt{"32-bit"}}

 \emph{Freescale} offers a variety of evaluation boards featuring
 \Chip{MC1322x} chips and some interesting sensor ICs. There is
 a number of \Chip{MC1322x} RCBs from 3rd-party suppliers, an
 up-to-date list is available from \emph{Contiki} \Chip{MC1322x}
 website \cite{links:contiki:rcb:mc1322x}. More information on
 this platform will appear below \ref{sec:MCX}.

\subsubsection{\texttt{"16-bit"}}

 Two interesting devices which are using TI MSP430 16-bit MCU with
 a discrete transceiver chip is \emph{Zolertia Z1} board and the
 \emph{Epic Mote}. The \emph{Zolertia} PCB also features a 3-axis
 accellerometer and two 3-pin sensor connectors (compatible with
 \emph{Phidgits} sensors). USB serial interface chip and two anennas
 are other distinct features of this device. A chip antenna is
 soldered on to the \emph{Z1} PCB and second micro-FL socket is
 provied for alternative antennae options. A version of \emph{Z1}
 with extra peripherals (JTAG, battery holder and external antenna)
 as well as compact plastic enclosure will be soon available
 from \emph{Zolertia} sore \cite{links:zolertia:store}.
 
\subsubsection{\texttt{"8-bit"}}

 \emph{Atmel} offers a range of RCB evaluation kits
 \cite{links:atmel:rcb} and there a few \emph{ZigBit}
 modules which feature an external RF power amplifier,
 although those could be great boards to use, the
 3rd-party solutions are more suitable for the budget
 of this project.

 \begin{figure}
 \includegraphics[scale=2.0]{../figures/images/sparkfun_atmega128rfa1_img00.jpg}
 \caption{\emph{SparkFun} \Chip{ATmega128RFA1} \emph{Development Board}} \label{fig:sparkfun:atmega128rfa1:image}
 \end{figure}

 Two development board options were considered for this project.

 First \Chip{ATmega128RFA1} board that had been looked at 
 was \emph{Dresden Elektronik Radio Controller Board RCB128RFA1}
 \cite{links:de:rcb}. In combination with \emph{Sensor Terminal
 Board} \cite{links:de:stb}, it is a very suitable development 
 and prototyping solution. The \emph{RCB} has external antenna
 connector and the MCU chip is enclosed in a metal shielding
 and a battery holder is also included. The \emph{STB} boards
 has screw terminals for sensors and JTAG, ISP, USB and DC
 power connectors, as well as an external 32kB SRAM chip.

 The \emph{SparFun} board pictured in Figure
 \ref{fig:sparkfun:atmega128rfa1:image}
 has a much more compact design, therefore is could fit
 into a slim enclosure with \emph{I/O} breakout connections
 or, otherwise, just a few sensors placed inside of the
 enclosure for a simpler application. The circuit diagram
 for this device is shown in Figure
 \ref{fig:sparkfun:atmega128rfa1:circuit}.
 A pair of these boards has been purchased and used during
 the first phase of development (\ref{sec:RFA}).

\subsection{Popular Solutions}

 The \emph{Xbee}\cite{links:digi:xbee} modules from \emph{Digi}
 are very popular among hobbyists, however it is rather a
 drop-in solution, and is not appropriate for a new design.
 \emph{Xbee} modules can also be used without external MCU
 \cite{links:misc:xbeemidi}, but the functionality is fixed
 to what is implemented in module firmware. Programable
 modules are also available \cite{links:xbee:wiki:prog},
 however very limited information has been found. Also a
 recently published \cite{noble2009programming} book suggests
 to use the \emph{Xbee} modules, althogh author mentions no
 alternatives. \emph{IcludeTech WiMi} \cite{links:includetech:wimi}
 is a development board which uses an \emph{Xbee} module with a whip
 antenna and a \emph{Microchip PIC} MCU. It would be appropriate as a
 drop-in module for a MIDI device which is being produced already and
 wireless connectivity needs to be offered as an expansion option,
 engineers who are familiar with \emph{PIC} microcontrollers may find
 these devices suitable for their designs.

